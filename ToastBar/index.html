<!DOCTYPE html>

<html>

<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toast Notification</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/d7b07f0acf.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="main">


  
    <div class="Theme">
        <div class="lightmode"><i class="fa-solid fa-sun"></i></div>

    <div  class="darkMode" > <i class="fa-solid fa-moon" id="moon" onclick="icon()"></i></div>

    </div>
    <p>I have a jQuery mobile project and in order to close (most) popups I noticed I have to click twice in an area other than the popup. In these cases it seems the first click removes the #&ui-state=dialog from the URL address bar while the second actually removes the popup.

        I've checked for multiple includes of the same JS file and there is only one occurrence when viewing the source. I'm refreshing the page directly so there is no chance of a second include of the JS file from navigation either. As far as I can tell (and I'm pretty sure) there are not multiple custom click events bound to the button which triggers the pop-up (Maybe jQuery Mobile behind the scenes stuff, but not custom).
        
        Is there a way for me to essentially listen for all click events as part of debugging and see what is going on with them? I've added breaks to the custom JS code which opens the popup, and it only executes once. But there is more going on and I don't know where it is coming from or how I can find it.
        
        </p>


    <div>
        <div class="btn">

            <button onclick="showTost(succesmsg)">Success</button>
            <button onclick="showTost(errormsg)">Error</button>
            <button onclick="showTost(invalidmsg)">Invalid</button>
        
        
        <div id="toastBox"></div>
     


    </div>

    <script>

        let toastBox = document.getElementById("toastBox");

        let succesmsg = ' <i class="fa-solid fa-square-check"></i> Successfully done!!';
        let errormsg = '<i class="fa-solid fa-circle-xmark"></i> Error, try after sometime';
        let invalidmsg = '<i class="fa-solid fa-triangle-exclamation"></i> Its an Invalid submission';


        function showTost(msg) {
            let ctost = document.createElement("div");
            ctost.classList.add("ctost");
            ctost.innerHTML = msg;
            toastBox.appendChild(ctost);

            if (msg.includes('error')) {

                ctost.classList.add('error');
            }
            if (msg.includes('invalid')) {

                ctost.classList.add('invalid');
            }

            setTimeout(() => {
                ctost.remove();

            }, 5000)
        }



        var icon = document.getElementById('moon');

        function icon(){
            document.body.classList.toggle('darkMode');

        }


    </script>

</body>


</html>

